# â‘ èª²é¡Œå

**Midnight Whisperï¼ˆè‡ªå‹•æ¶ˆæ»…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¯¾å¿œãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆï¼‰**

---

# â‘¡èª²é¡Œå†…å®¹ï¼ˆã©ã‚“ãªä½œå“ã‹ï¼‰

Firebase Realtime Database ã‚’ä½¿ç”¨ã—ãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã€‚

**é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ï¼ˆMode OFFï¼‰**ï¼š
ç·¨é›†ãƒ»å‰Šé™¤ãŒå¯èƒ½ãªã€ä¸€èˆ¬çš„ãªãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã€‚

**Midnight Fragment Modeï¼ˆMode ONï¼‰**ï¼š
é€ä¿¡ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ **10 ç§’å¾Œã«ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆã—ã€DB ã‹ã‚‰å®Œå…¨å‰Šé™¤ï¼ˆç‰©ç†å‰Šé™¤ï¼‰** ã•ã‚Œã‚‹ã€‚
DOM å´ã§ã¯ â€œæº¶ã‘ã‚‹ã‚ˆã†ã«æ¶ˆãˆã‚‹â€ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ¼”å‡ºãŒè¡Œã‚ã‚Œã‚‹ã€‚

åŒ¿ååˆ©ç”¨ã®ãŸã‚ã€èµ·å‹•æ™‚ã«ãƒ–ãƒ©ã‚¦ã‚¶å´ã§
**UUIDï¼ˆCrypto APIï¼‰ã‚’ç”Ÿæˆ â†’ ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§ãƒãƒ£ãƒƒãƒˆå‚åŠ **ã€‚
â€»LANå…¬é–‹ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«IPï¼‰ãªã©ã§ `crypto.randomUUID()` ãŒä½¿ãˆãªã„ç’°å¢ƒå‘ã‘ã« **UUIDãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚‚å®Ÿè£…**ã€‚

---

# â‘¢ã‚¢ãƒ—ãƒªã®ãƒ‡ãƒ—ãƒ­ã‚¤URL

[https://chiyuria.github.io/gs-midnight-whisper-submit-05/](https://chiyuria.github.io/gs-midnight-whisper-submit-05/)

---

# â‘£ã‚¢ãƒ—ãƒªã«ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ãŒã‚ã‚‹å ´åˆ

ãªã—ï¼ˆUUID ã«ã‚ˆã‚‹åŒ¿åè­˜åˆ¥ï¼‰

---

# â‘¤ã“ã ã‚ã£ãŸç‚¹ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰

### â–  1. é€šå¸¸ãƒãƒ£ãƒƒãƒˆã¨ Fragment Mode ã‚’æ˜ç¢ºã«åˆ‡ã‚Šæ›¿ãˆã‚‹è¨­è¨ˆ

* OFFï¼šç·¨é›†ãƒ»å‰Šé™¤ãƒ»ä¿æŒãŒå¯èƒ½ãªâ€œæ™®é€šã®ãƒãƒ£ãƒƒãƒˆâ€
* ONï¼š10 ç§’ã§è‡ªå‹•æ¶ˆæ»…ã™ã‚‹â€œå„šã„ãƒãƒ£ãƒƒãƒˆâ€
  åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã«å¿œã˜ã¦åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹æ§‹é€ ã«ã—ãŸã€‚

---

### â–  2. UUID ã«ã‚ˆã‚‹åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œï¼‰

`crypto.randomUUID()` ã‚’ç”¨ã„ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ä¸€æ„ã®IDã‚’ç”Ÿæˆã€‚
ã•ã‚‰ã«ã€LANå…¬é–‹ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«IPï¼‰ã§ã¯ `crypto.randomUUID()` ãŒä½¿ãˆãªã„å ´åˆãŒã‚ã‚‹ãŸã‚ã€**UUIDãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã§ä»£æ›¿ç”Ÿæˆ**ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€é€ä¿¡è€…åˆ¤å®šãƒ»ç·¨é›†æ¨©é™åˆ¤å®šãŒå®‰å®šã—ã¦å‹•ãã‚ˆã†ã«ã—ãŸã€‚

---

### â–  3. Firebase remove() ã‚’ä½¿ã£ãŸå®Œå…¨æ¶ˆæ»…

Fragment ãƒ¢ãƒ¼ãƒ‰æ™‚ã¯é€ä¿¡ç›´å¾Œã«ä»¥ä¸‹ã®å‡¦ç†ã‚’äºˆç´„ï¼š

```js
setTimeout(function () {
  const target = ref(db, `chat/${key}`);
  remove(target).then(function () {});
}, 10000);
```

**â€œè¦‹ãˆã¦ã„ã‚‹é–“ã ã‘å­˜åœ¨ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸â€** ã‚’å®Ÿç¾ã€‚

---

### â–  4. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ DB æ¶ˆæ»…ã®åŒæœŸ

DOM ã® fade â†’ blur â†’ ä¸Šæ˜‡ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨
Firebase ã®ç‰©ç†å‰Šé™¤ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒãšã‚Œãªã„ã‚ˆã†èª¿æ•´ã€‚

---

### â–  5. UI ã¯ 1 ç”»é¢æ§‹æˆã§ã‚·ãƒ³ãƒ—ãƒ«ï¼‹å®Ÿç”¨çš„ã«ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¼·åŒ–ï¼‰

* ãƒ€ãƒ¼ã‚¯UI
* ã‚¬ãƒ©ã‚¹é¢¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ–ãƒ«
* Midnight Mode ãƒˆã‚°ãƒ«
* ç·¨é›†ãƒ»å‰Šé™¤ãƒœã‚¿ãƒ³
* å…¥åŠ›ã‚¨ãƒªã‚¢å›ºå®š
* ã‚¹ãƒãƒ›æœ€é©ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆ**`responsive.js` ã§ `--app-height` ã‚’æ›´æ–°ã—ã€ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã«ã‚ˆã‚‹ `100vh` ã®ã‚ºãƒ¬ã‚’æŠ‘åˆ¶**ï¼‰

3ã‚«ãƒ©ãƒ ã‚¢ãƒ—ãƒªã‹ã‚‰ã®åˆ‡ã‚Šå‡ºã—ã ãŒã€1ã‚«ãƒ©ãƒ ç”¨ã«å®Œå…¨æœ€é©åŒ–ã—ãŸã€‚

---

# â‘¥ é›£ã—ã‹ã£ãŸç‚¹ãƒ»æ¬¡å›ãƒˆãƒ©ã‚¤ã—ãŸã„ã“ã¨

### â–  Firebase ã®æ¦‚å¿µç†è§£

LocalStorage ã¨ä¼¼ã¦ã„ã‚‹éƒ¨åˆ†ã‚‚ã‚ã‚‹ãŒã€
**import / initializeApp / getDatabase / ref / push / onChildAdded**
ãªã©ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ DBç‰¹æœ‰ã®ä»•çµ„ã¿ã‚’æ•´ç†ã™ã‚‹ã®ãŒé›£ã—ã‹ã£ãŸã€‚

---

### â–  ç·¨é›†æ©Ÿèƒ½ã¨è«–ç†å‰Šé™¤æ©Ÿèƒ½ã®å®Ÿè£…ãŒéå¸¸ã«é›£ã—ã‹ã£ãŸ

Firebase ã¯ **é…åˆ—ã§ã¯ãªãã€Œã‚­ãƒ¼ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€** ã§ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹ãŸã‚ã€
å˜ç´”ã« append ã™ã‚‹ã¨ **è¡¨ç¤ºé †ãŒå´©ã‚Œã‚‹å•é¡Œ** ãŒç™ºç”Ÿã—ãŸã€‚

ãã®ãŸã‚ï¼š

* ç·¨é›† â†’ update() â†’ å¯¾å¿œã™ã‚‹ DOM ã‚’ã‚­ãƒ¼ã§ç‰¹å®šã—ã€ä¸­èº«ã‚’å·®ã—æ›¿ãˆ
* å‰Šé™¤ â†’ deleted: true â†’ DOM å´ã‚’ â€œå‰Šé™¤æ¸ˆã¿è¡¨ç¤ºâ€ ã«ç½®ãæ›ãˆ

ã¨ã„ã† **â€œã‚­ãƒ¼åŸºæº–ã§ DOM ã‚’æ¢ã—å‡ºã—ã¦æ›´æ–°ã™ã‚‹å‡¦ç†â€** ã‚’è‡ªå‰ã§ä½œã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚
ãŸã DBã‚’æ›´æ–°ã™ã‚Œã°ã„ã„ã‚ã‘ã§ã¯ãªãã€
**â€œãƒãƒ£ãƒƒãƒˆã®ä½ç½®ã‚’ç¶­æŒã—ãŸã¾ã¾ UI ã‚’æ›´æ–°ã™ã‚‹â€** ç†è§£ãŒæœ€ã‚‚é›£ã—ã‹ã£ãŸã€‚

---

### â–  UUID ã«ã‚ˆã‚‹åŒ¿åè­˜åˆ¥ï¼ˆLANå…¬é–‹å¯¾å¿œï¼‰

`crypto.randomUUID()` ã‚’ç”¨ã„ãŸä¸€æ™‚ãƒ¦ãƒ¼ã‚¶ãƒ¼IDç”Ÿæˆã¨ã€
ãã‚Œã‚’åˆ©ç”¨ã—ãŸ **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ‰€æœ‰è€…åˆ¤å®šï¼ˆç·¨é›†ãƒ»å‰Šé™¤æ¨©ï¼‰** ã®ä»•çµ„ã¿ã‚’ç†è§£ã™ã‚‹ã®ã«æ™‚é–“ãŒã‹ã‹ã£ãŸã€‚
ã¾ãŸã€ãƒ­ãƒ¼ã‚«ãƒ«IPã§ã®å‹•ä½œç¢ºèªæ™‚ã« Crypto API ãŒä½¿ãˆãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã€**ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£…ã§å®‰å®šåŒ–**ã—ãŸã€‚

---

### æ¬¡å›ãƒˆãƒ©ã‚¤ã—ãŸã„ã“ã¨

* æ—¢èª­ç®¡ç†
* ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚«ã‚¹ã‚¿ãƒ 
* Fragment Mode ã®æ®‹å…‰ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼æ™‚é–“å¤‰æ›´å¯¾å¿œ
* æ¶ˆæ»…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ãªã©ã€ãƒ¢ãƒ¼ãƒ‰åˆ¥ãƒ­ã‚°ã®å°å…¥

---

# â‘¦ ãƒ•ãƒªãƒ¼é …ç›®

* ãƒ­ã‚´ã¯ **AIç”Ÿæˆï¼ˆSVGï¼‰**ã€‚ã‚¢ãƒ—ãƒªã®ä¸–ç•Œè¦³ã«åˆã‚ã›ã¦åˆ¶ä½œã€‚
* Midnight Fragment Mode ã¯â€œå±é™ºãªãƒãƒ£ãƒƒãƒˆâ€ã§ã¯ãªãã€
  **æ·±å¤œã®ã¤ã¶ã‚„ããŒãµã£ã¨æ¶ˆãˆã‚‹ã‚ˆã†ãªæ„Ÿè¦š**ã‚’ãƒ†ãƒ¼ãƒã«ã—ãŸ UI æ¼”å‡ºã‚’é‡è¦–ã—ãŸã€‚

---

# ğŸŒ™ Midnight Whisper â€“ README 251208 update

---

# ğŸ“ æ¦‚è¦ï¼ˆOverviewï¼‰

**Midnight Whisper** ã¯ Firebase Realtime Database ã‚’ä½¿ã£ãŸã€
**ã€Œé€šå¸¸ãƒãƒ£ãƒƒãƒˆã€ã¨ã€Œæ·±å¤œã®æ„Ÿæƒ…ã ã‘æº¶ã‘ã‚‹æ¶ˆæ»…ãƒãƒ£ãƒƒãƒˆã€** ã®
2ã¤ã®é¡”ã‚’æŒã¤ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¢ãƒ—ãƒªã§ã™ã€‚

### âœ” Midnight Fragment Mode â†’ *ON ã®ã¨ãã ã‘ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ10ç§’å¾Œã«è‡ªå‹•æ¶ˆæ»…*

### âœ” Mode OFF â†’ *ç·¨é›†ãƒ»å‰Šé™¤ã‚‚ã§ãã‚‹æ™®é€šã®ãƒãƒ£ãƒƒãƒˆã¨ã—ã¦åƒã*

**æ™®æ®µã¯æ™®é€šã«ä½¿ãˆã‚‹ãƒãƒ£ãƒƒãƒˆã ã‘ã©ã€
æ°—æŒã¡ãŒæºã‚Œã‚‹æ·±å¤œã ã‘ Fragment ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆã‚‹**
ãã‚“ãªä½¿ã„åˆ†ã‘ãŒã§ãã‚‹æ§‹é€ ã«ãªã£ã¦ã„ã¾ã™ã€‚

Fragment ã§æ¶ˆãˆãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã€
ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆã—ã¦ blur ãŒã‹ã‹ã‚Šã€
ãµã£ã¨ä¸Šã«æº¶ã‘ã¦ã€
**DBã‹ã‚‰ã‚‚ç‰©ç†å‰Šé™¤ã•ã‚Œã€äºŒåº¦ã¨æˆ»ã‚Šã¾ã›ã‚“ã€‚**

---

# ğŸ® æ©Ÿèƒ½ä¸€è¦§ï¼ˆFeaturesï¼‰

## â–¼ é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ï¼ˆMidnight Mode = OFFï¼‰

* ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
* è‡ªåˆ†ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·¨é›†
* å‰Šé™¤ï¼ˆè«–ç†å‰Šé™¤ï¼‰
* ãšã£ã¨æ®‹ã‚‹ã€æ™®é€šã®ãƒãƒ£ãƒƒãƒˆä½“é¨“

**â†’ èª²é¡Œãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã¨ã—ã¦ã®â€œåŸºæœ¬æ©Ÿèƒ½â€ã¯ã“ã“ã§æº€ãŸã—ã¦ã„ã‚‹ã€‚**

---

## â–¼ Midnight Fragment Modeï¼ˆON ã®ã¨ãã ã‘ç™ºå‹•ï¼‰

* é€ä¿¡å¾Œ **10 ç§’ã§è‡ªå‹•æ¶ˆæ»…ï¼ˆDBã”ã¨å‰Šé™¤ï¼‰**
* æ¶ˆãˆã‚‹é€”ä¸­ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆfade + blur + ä¸Šæ˜‡ï¼‰
* "æ®‹ã‚‰ãªã„ã‹ã‚‰è¨€ãˆã‚‹è¨€è‘‰" ã®ä¸–ç•Œè¦³ã‚’è¡¨ç¾

**â†’ é€šå¸¸ãƒãƒ£ãƒƒãƒˆã®ä¸Šä½ã«ä¹—ã‚‹ â€œæ‹¡å¼µæ©Ÿèƒ½â€ ã¨ã—ã¦å®Ÿè£…ã€‚**

---

## â–¼ UI / è£œåŠ©æ©Ÿèƒ½

* åˆå›ãƒ­ãƒ¼ãƒ‰çˆ†æ’ƒé˜²æ­¢ä»˜ãã® toast é€šçŸ¥
* Promise ãƒ™ãƒ¼ã‚¹ã® OK / Confirm ãƒ¢ãƒ¼ãƒ€ãƒ«
* ã‚¹ãƒãƒ›ãƒ»PCä¸¡å¯¾å¿œã®å˜ä¸€ç”»é¢UIï¼ˆ**`responsive.js` ã«ã‚ˆã‚‹ `--app-height` æ›´æ–°ã§ã‚¹ãƒãƒ›ã®ç¸¦ã‚ºãƒ¬ã‚’è»½æ¸›**ï¼‰

---

# ğŸ§  ä»•çµ„ã¿ï¼ˆHow It Worksï¼‰

## 1. é€ä¿¡å‡¦ç†ã®åˆ†å²

```
if (midnightMode) {
  mode = "midnight";
}
```

## 2. é€šå¸¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆmode = normalï¼‰

* Firebase ã«ä¿å­˜ã•ã‚Œç¶šã‘ã‚‹
* å‰Šé™¤ â†’ deleted: true
* ç·¨é›† â†’ update()

## 3. Fragment ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆmode = midnightï¼‰

* DOM ã« `msg-fragment` ã‚¯ãƒ©ã‚¹
* 10 ç§’å¾Œã« remove()
* æ¶ˆæ»…ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ãã®ã¯ **DOMå´ã ã‘ã®æ¼”å‡º**
* â€œæ¶ˆæ»…å¾Œã¯ç—•è·¡ã‚¼ãƒ­â€

---

# ğŸ—‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
.
â”œâ”€â”€ index.html
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ buttons.css
â”‚   â”œâ”€â”€ forms.css
â”‚   â”œâ”€â”€ modal.css
â”‚   â”œâ”€â”€ style.css
â”‚   â””â”€â”€ toast.css
â”œâ”€â”€ img/
â”‚   â””â”€â”€ logo.svg   â† AIç”Ÿæˆ
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ chat.js
â”‚   â”‚   â”œâ”€â”€ modal.js
â”‚   â”‚   â”œâ”€â”€ toast.js
â”‚   â”‚   â””â”€â”€ responsive.js   â† è¿½åŠ ï¼ˆã‚¹ãƒãƒ›ç¸¦100%å¯¾ç­–ï¼‰
â”‚   â”œâ”€â”€ firebase/
â”‚   â”‚   â””â”€â”€ firebase_config.js
â”‚   â””â”€â”€ libs/
â”‚       â””â”€â”€ jquery-3.7.1.min.js
â””â”€â”€ .gitignore
```

---

# ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ãƒã‚¤ãƒ³ãƒˆ

* é»’ Ã— ç´«ã®â€œæ·±å¤œé…è‰²â€
* Glassmorphismï¼ˆblur + é€éï¼‰
* Midnight Fragment ç”¨ã® keyframes
* ãƒ­ã‚´ã¯ AI ç”Ÿæˆï¼ˆREADME ã«æ˜è¨˜ï¼‰

---

# ğŸ”§ æŠ€è¡“è¦ç´ 

* Firebase Realtime Database
* jQueryï¼ˆMITï¼‰
* Promiseãƒ™ãƒ¼ã‚¹UI
* Toasté€šçŸ¥
* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UIï¼ˆ**`--app-height` / `responsive.js`**ï¼‰

---

# ğŸŒ™ Midnight Whisper â€“ README 251208 update

---

# ğŸ“ Overview

**Midnight Whisper** is a real-time chat application built on Firebase Realtime Database.
It has two distinct modes:

### âœ” **Normal Mode** â€” a standard chat with editing and deletion

### âœ” **Midnight Fragment Mode** â€” messages softly dissolve and vanish after 10 seconds

Fragment messages fade, blur, drift upward,
and then disappear **entirely from the database** â€”
not for thrill, but to capture the feeling of
**a late-night confession that doesnâ€™t need a record,
a small emotion that exists only in the moment.**

In other words:

**Some words are meant to be heard once,
and then disappear.**

Midnight Whisper expresses that idea through animation, timing, and silence.

---

# ğŸ® Features

## â–¼ Normal Mode (Midnight Mode = OFF)

* Real-time messaging
* Edit own messages
* Logical delete (message replaced with placeholder)
* Functions as a standard persistent chat

**â†’ This covers all baseline features required for a typical chat app.**

---

## â–¼ Midnight Fragment Mode (ON)

* Messages **self-erase after 10 seconds**
* Fade â†’ blur â†’ upward drift â†’ disappearance
* Physically removed from Firebase using `remove()`
* Only the person who happens to see it will witness it dissolve
* Designed for **late-night, transient feelings**

**â†’ Works as an optional â€œephemeral layerâ€ on top of a normal chat.**

---

## â–¼ UI Enhancements

* Toast notifications (with first-load suppression)
* Promise-based modals (OK / Confirm)
* Fully responsive single-screen layout (**`responsive.js` updates `--app-height` to reduce mobile 100vh jumps**)

---

# ğŸ§  How It Works

## 1. Message sending

```
if (midnightMode) {
  mode = "midnight";
}
```

## 2. Normal messages (`mode = "normal"`)

* Stored normally
* Delete â†’ `deleted: true`
* Edit â†’ `update()`

## 3. Fragment messages (`mode = "midnight"`)

* Assigned `.msg-fragment` class
* Scheduled deletion after 10 seconds
* Visual dissolve animation in the DOM
* Complete physical deletion via Firebase `remove()`
* Leaves **no trace** after disappearing

---

# ğŸ¨ UI / Design

* **AI-generated logo**
* Midnight-inspired dark palette with purple accents
* Glass-like message bubbles (blur + transparency)
* Fragment animation expresses â€œfeelings that fadeâ€
* One-page responsive design optimized for mobile (with `--app-height` support)

The visual theme represents
**soft emotions that only appear at night,
meant to be seen once and never saved.**

---

# ğŸ”§ Tech Stack

* HTML5 / CSS3 / jQuery
* Firebase Realtime Database
* Promise-based modals
* Toast notification system
* Responsive layout (**`responsive.js` + `--app-height`**)
* Anonymous identity via UUID (**with fallback for non-secure/LAN access**)

---

# ğŸ—‚ Directory Structure

```
.
â”œâ”€â”€ index.html
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ buttons.css
â”‚   â”œâ”€â”€ forms.css
â”‚   â”œâ”€â”€ modal.css
â”‚   â”œâ”€â”€ style.css
â”‚   â””â”€â”€ toast.css
â”œâ”€â”€ img/
â”‚   â””â”€â”€ logo.svg   â† AI-generated
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ chat.js
â”‚   â”‚   â”œâ”€â”€ modal.js
â”‚   â”‚   â”œâ”€â”€ toast.js
â”‚   â”‚   â””â”€â”€ responsive.js   â† added (mobile viewport fix)
â”‚   â”œâ”€â”€ firebase/
â”‚   â”‚   â””â”€â”€ firebase_config.js
â”‚   â””â”€â”€ libs/
â”‚       â””â”€â”€ jquery-3.7.1.min.js
â””â”€â”€ .gitignore
```

---

# â–¶ How to Use

1. Add your Firebase credentials to `firebase_config.js`
2. Open `index.html` in a browser
3. Turn Midnight Fragment Mode ON
4. Send a message
5. Watch it dissolve and vanish after 10 seconds

---

# ğŸ“˜ Learning Points

* Firebase push / set / update / remove
* Coordinating visual effects with real DB deletion
* Keyframe-based dissolve animation
* Promise-driven modal UI
* State management (editingKey / initialized / midnightMode)
* Designing a clean single-screen chat interface
* Handling mobile viewport quirks with `--app-height`

---

# ğŸ“„ License

Created for learning and prototyping purposes.
Logo includes **AI-generated assets**.

---

# âœ¨ Author

Chiyuria

---
